<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>D3 cloud</title>
    <script src="./js/d3.js"></script>
    <script src="./js/Responsive_Wordle.js"></script>
    <script src="./js/DrawTheWordle.js" ></script>
    <script src="./js/ForceToWordle.js"></script>
    <script src="./js/Box2D.min.js"></script>
    <style>
        body{
            text-align: center;
        }
        #vis{
            position: absolute;
            top: 10%;
            left: 10%;
        }
    </style>
</head>
<body>
<div id="vis"></div>
<script>
    let InitW = document.documentElement.clientWidth;
    let InitH = document.documentElement.clientHeight;

    var inputtags = [
        {text:'Kobe',size:50},
        {text:'Mike',size:10},
        {text:'John',size:100},
        {text:'James',size:100},
        {text:'Kuzma',size:100},
        {text:'Davis',size:200},
    ];

    var fill = d3.scale.category20();

    var layout = d3.layout.cloud()
        .size([~~(0.8 * InitW), ~~(0.8 * InitH)])
        .words(inputtags)
        .rotate(function() {
            return 0;
        })
        .font("Impact")
        .fontSize(function(d) { return d.size;});

    var words = layout.start();

    var obj = document.getElementById("vis");

    let w = ~~(0.8 * InitW);
    let h = ~~(0.8 * InitH);

    let rate = w * h,
        j=0;

    d3.select("#vis").append("svg")
        .attr("width", w)
        .attr("height", h)
        .append("g")
        .attr("transform", "translate(" + w / 2 + "," + h / 2 + ")")
        .selectAll("text")
        .data(words)
        .enter().append("text")
        .attr("id",function(d){
            j++;
            let CurId = "id" + j;
            return CurId;
        })
        .style("font-size",function (d) {
            return ~~(Math.sqrt(d.size * rate / 2) - 1) * 0.5  + "px";
        })
        .style("font-family", "Impact")
        .style("fill", function(d, i) {return fill(i); })
        .attr("text-anchor", "middle")
        .attr("transform", function(d) {
            return "translate(" + [d.x * w, d.y * h] + ")rotate(" + d.rotate + ")";
        })
        .text(function(d) { return d.text; });


    let word1 = d3.select("#id1");
    word1.transition()
        .duration(1500)
        .style('font-size',"10px");

</script>
</body>
</html>